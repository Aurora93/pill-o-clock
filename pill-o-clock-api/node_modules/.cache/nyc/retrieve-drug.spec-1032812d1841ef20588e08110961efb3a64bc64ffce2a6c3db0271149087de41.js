function cov_2rhwk7s6t8(){var path="/Users/Au/bootcamp/collab/skylab-bootcamp-202001/staff/aurora-perez/pill-o-clock/pill-o-clock-api/logic/retrieve-drug.spec.js";var hash="a18b5f3cec7db6fda53b094a2c87fcdff8afba98";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/Au/bootcamp/collab/skylab-bootcamp-202001/staff/aurora-perez/pill-o-clock/pill-o-clock-api/logic/retrieve-drug.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:38},end:{line:3,column:45}},"2":{start:{line:4,column:19},end:{line:4,column:34}},"3":{start:{line:5,column:19},end:{line:5,column:23}},"4":{start:{line:6,column:21},end:{line:6,column:47}},"5":{start:{line:7,column:39},end:{line:7,column:67}},"6":{start:{line:9,column:0},end:{line:73,column:2}},"7":{start:{line:10,column:4},end:{line:13,column:5}},"8":{start:{line:11,column:8},end:{line:12,column:42}},"9":{start:{line:12,column:24},end:{line:12,column:41}},"10":{start:{line:17,column:4},end:{line:21,column:6}},"11":{start:{line:18,column:8},end:{line:18,column:41}},"12":{start:{line:19,column:8},end:{line:19,column:47}},"13":{start:{line:23,column:4},end:{line:59,column:6}},"14":{start:{line:25,column:8},end:{line:28,column:9}},"15":{start:{line:26,column:12},end:{line:27,column:40}},"16":{start:{line:27,column:27},end:{line:27,column:39}},"17":{start:{line:30,column:8},end:{line:37,column:9}},"18":{start:{line:31,column:12},end:{line:36,column:18}},"19":{start:{line:33,column:20},end:{line:33,column:60}},"20":{start:{line:34,column:20},end:{line:34,column:66}},"21":{start:{line:38,column:8},end:{line:48,column:9}},"22":{start:{line:39,column:12},end:{line:47,column:14}},"23":{start:{line:40,column:24},end:{line:40,column:45}},"24":{start:{line:42,column:16},end:{line:42,column:62}},"25":{start:{line:46,column:16},end:{line:46,column:88}},"26":{start:{line:50,column:8},end:{line:58,column:10}},"27":{start:{line:51,column:12},end:{line:57,column:14}},"28":{start:{line:52,column:26},end:{line:52,column:73}},"29":{start:{line:54,column:16},end:{line:54,column:38}},"30":{start:{line:55,column:16},end:{line:55,column:61}},"31":{start:{line:56,column:16},end:{line:56,column:94}},"32":{start:{line:61,column:4},end:{line:70,column:6}},"33":{start:{line:62,column:8},end:{line:62,column:28}},"34":{start:{line:63,column:8},end:{line:63,column:96}},"35":{start:{line:63,column:21},end:{line:63,column:42}},"36":{start:{line:64,column:8},end:{line:64,column:23}},"37":{start:{line:65,column:8},end:{line:65,column:96}},"38":{start:{line:65,column:21},end:{line:65,column:42}},"39":{start:{line:66,column:8},end:{line:66,column:27}},"40":{start:{line:67,column:8},end:{line:67,column:96}},"41":{start:{line:67,column:21},end:{line:67,column:42}},"42":{start:{line:68,column:8},end:{line:68,column:20}},"43":{start:{line:69,column:8},end:{line:69,column:96}},"44":{start:{line:69,column:21},end:{line:69,column:42}},"45":{start:{line:72,column:4},end:{line:72,column:68}},"46":{start:{line:72,column:16},end:{line:72,column:67}},"47":{start:{line:72,column:45},end:{line:72,column:66}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:25},end:{line:9,column:26}},loc:{start:{line:9,column:31},end:{line:73,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:11,column:8},end:{line:12,column:42}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:18},end:{line:12,column:19}},loc:{start:{line:12,column:24},end:{line:12,column:41}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:15},end:{line:17,column:16}},loc:{start:{line:17,column:21},end:{line:21,column:5}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:23,column:41},end:{line:23,column:42}},loc:{start:{line:23,column:47},end:{line:59,column:5}},line:23},"5":{name:"(anonymous_5)",decl:{start:{line:25,column:19},end:{line:25,column:20}},loc:{start:{line:26,column:12},end:{line:27,column:40}},line:26},"6":{name:"(anonymous_6)",decl:{start:{line:27,column:18},end:{line:27,column:19}},loc:{start:{line:27,column:27},end:{line:27,column:39}},line:27},"7":{name:"(anonymous_7)",decl:{start:{line:30,column:65},end:{line:30,column:66}},loc:{start:{line:31,column:12},end:{line:36,column:18}},line:31},"8":{name:"(anonymous_8)",decl:{start:{line:32,column:22},end:{line:32,column:23}},loc:{start:{line:32,column:30},end:{line:36,column:17}},line:32},"9":{name:"(anonymous_9)",decl:{start:{line:38,column:45},end:{line:38,column:46}},loc:{start:{line:39,column:12},end:{line:47,column:14}},line:39},"10":{name:"(anonymous_10)",decl:{start:{line:40,column:18},end:{line:40,column:19}},loc:{start:{line:40,column:24},end:{line:40,column:45}},line:40},"11":{name:"(anonymous_11)",decl:{start:{line:41,column:18},end:{line:41,column:19}},loc:{start:{line:41,column:24},end:{line:44,column:13}},line:41},"12":{name:"(anonymous_12)",decl:{start:{line:45,column:19},end:{line:45,column:20}},loc:{start:{line:45,column:28},end:{line:47,column:13}},line:45},"13":{name:"(anonymous_13)",decl:{start:{line:50,column:65},end:{line:50,column:66}},loc:{start:{line:50,column:71},end:{line:58,column:9}},line:50},"14":{name:"(anonymous_14)",decl:{start:{line:52,column:18},end:{line:52,column:19}},loc:{start:{line:52,column:24},end:{line:52,column:75}},line:52},"15":{name:"(anonymous_15)",decl:{start:{line:53,column:19},end:{line:53,column:20}},loc:{start:{line:53,column:28},end:{line:57,column:13}},line:53},"16":{name:"(anonymous_16)",decl:{start:{line:61,column:47},end:{line:61,column:48}},loc:{start:{line:61,column:53},end:{line:70,column:5}},line:61},"17":{name:"(anonymous_17)",decl:{start:{line:63,column:15},end:{line:63,column:16}},loc:{start:{line:63,column:21},end:{line:63,column:42}},line:63},"18":{name:"(anonymous_18)",decl:{start:{line:65,column:15},end:{line:65,column:16}},loc:{start:{line:65,column:21},end:{line:65,column:42}},line:65},"19":{name:"(anonymous_19)",decl:{start:{line:67,column:15},end:{line:67,column:16}},loc:{start:{line:67,column:21},end:{line:67,column:42}},line:67},"20":{name:"(anonymous_20)",decl:{start:{line:69,column:15},end:{line:69,column:16}},loc:{start:{line:69,column:21},end:{line:69,column:42}},line:69},"21":{name:"(anonymous_21)",decl:{start:{line:72,column:10},end:{line:72,column:11}},loc:{start:{line:72,column:16},end:{line:72,column:67}},line:72},"22":{name:"(anonymous_22)",decl:{start:{line:72,column:39},end:{line:72,column:40}},loc:{start:{line:72,column:45},end:{line:72,column:66}},line:72}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a18b5f3cec7db6fda53b094a2c87fcdff8afba98"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_2rhwk7s6t8=function(){return actualCoverage;};return actualCoverage;}cov_2rhwk7s6t8();cov_2rhwk7s6t8().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL}}=(cov_2rhwk7s6t8().s[1]++,process);const{expect}=(cov_2rhwk7s6t8().s[2]++,require('chai'));const{random}=(cov_2rhwk7s6t8().s[3]++,Math);const retrieveDrug=(cov_2rhwk7s6t8().s[4]++,require('./retrieve-drug'));const{mongoose,models:{Drug}}=(cov_2rhwk7s6t8().s[5]++,require('pill-o-clock-data'));cov_2rhwk7s6t8().s[6]++;describe('retrieveDrug',()=>{cov_2rhwk7s6t8().f[0]++;cov_2rhwk7s6t8().s[7]++;before(()=>{cov_2rhwk7s6t8().f[1]++;cov_2rhwk7s6t8().s[8]++;return mongoose.connect(TEST_MONGODB_URL,{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_2rhwk7s6t8().f[2]++;cov_2rhwk7s6t8().s[9]++;return Drug.deleteMany();});});let drugName,description,_drugId;cov_2rhwk7s6t8().s[10]++;beforeEach(()=>{cov_2rhwk7s6t8().f[3]++;cov_2rhwk7s6t8().s[11]++;drugName=`drugName-${random()}`;cov_2rhwk7s6t8().s[12]++;description=`description-${random()}`;});cov_2rhwk7s6t8().s[13]++;describe('when drug already exists',()=>{cov_2rhwk7s6t8().f[4]++;cov_2rhwk7s6t8().s[14]++;beforeEach(()=>{cov_2rhwk7s6t8().f[5]++;cov_2rhwk7s6t8().s[15]++;return Drug.create({drugName,description}).then(({id})=>{cov_2rhwk7s6t8().f[6]++;cov_2rhwk7s6t8().s[16]++;return _drugId=id;});});cov_2rhwk7s6t8().s[17]++;it('should succeed on correct and valid and right data',()=>{cov_2rhwk7s6t8().f[7]++;cov_2rhwk7s6t8().s[18]++;return retrieveDrug(_drugId).then(drug=>{cov_2rhwk7s6t8().f[8]++;cov_2rhwk7s6t8().s[19]++;expect(drug.drugName).to.equal(drugName);cov_2rhwk7s6t8().s[20]++;expect(drug.description).to.equal(description);});});cov_2rhwk7s6t8().s[21]++;it('should succeed on invalid data',()=>{cov_2rhwk7s6t8().f[9]++;cov_2rhwk7s6t8().s[22]++;return Drug.findByIdAndRemove(_drugId).then(()=>{cov_2rhwk7s6t8().f[10]++;cov_2rhwk7s6t8().s[23]++;return retrieveDrug(_drugId);}).then(()=>{cov_2rhwk7s6t8().f[11]++;cov_2rhwk7s6t8().s[24]++;throw new Error('should not reach this point');}).catch(error=>{cov_2rhwk7s6t8().f[12]++;cov_2rhwk7s6t8().s[25]++;expect(error.message).to.equal(`drug with id ${_drugId} does not exist`);});});cov_2rhwk7s6t8().s[26]++;it('should fail to retrieve if the user does not exist',()=>{cov_2rhwk7s6t8().f[13]++;cov_2rhwk7s6t8().s[27]++;retrieveDrug(`${_drugId}-wrong`).then(()=>{cov_2rhwk7s6t8().f[14]++;cov_2rhwk7s6t8().s[28]++;throw new Error('should not reach this point');}).catch(error=>{cov_2rhwk7s6t8().f[15]++;cov_2rhwk7s6t8().s[29]++;expect(error).to.exist;cov_2rhwk7s6t8().s[30]++;expect(error).to.be.instanceof(NotFoundError);cov_2rhwk7s6t8().s[31]++;expect(error.message).to.equal(`drug with id ${_drugId}-wrong does not exist`);});});});cov_2rhwk7s6t8().s[32]++;it('should fail on a non-string drugName',()=>{cov_2rhwk7s6t8().f[16]++;cov_2rhwk7s6t8().s[33]++;_drugId=9328743289;cov_2rhwk7s6t8().s[34]++;expect(()=>{cov_2rhwk7s6t8().f[17]++;cov_2rhwk7s6t8().s[35]++;return retrieveDrug(_drugId);}).to.throw(TypeError,`id ${_drugId} is not a string`);cov_2rhwk7s6t8().s[36]++;_drugId=false;cov_2rhwk7s6t8().s[37]++;expect(()=>{cov_2rhwk7s6t8().f[18]++;cov_2rhwk7s6t8().s[38]++;return retrieveDrug(_drugId);}).to.throw(TypeError,`id ${_drugId} is not a string`);cov_2rhwk7s6t8().s[39]++;_drugId=undefined;cov_2rhwk7s6t8().s[40]++;expect(()=>{cov_2rhwk7s6t8().f[19]++;cov_2rhwk7s6t8().s[41]++;return retrieveDrug(_drugId);}).to.throw(TypeError,`id ${_drugId} is not a string`);cov_2rhwk7s6t8().s[42]++;_drugId=[];cov_2rhwk7s6t8().s[43]++;expect(()=>{cov_2rhwk7s6t8().f[20]++;cov_2rhwk7s6t8().s[44]++;return retrieveDrug(_drugId);}).to.throw(TypeError,`id ${_drugId} is not a string`);});cov_2rhwk7s6t8().s[45]++;after(()=>{cov_2rhwk7s6t8().f[21]++;cov_2rhwk7s6t8().s[46]++;return Drug.deleteMany().then(()=>{cov_2rhwk7s6t8().f[22]++;cov_2rhwk7s6t8().s[47]++;return mongoose.disconnect();});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLWRydWcuc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsInByb2Nlc3MiLCJleHBlY3QiLCJyYW5kb20iLCJNYXRoIiwicmV0cmlldmVEcnVnIiwibW9uZ29vc2UiLCJtb2RlbHMiLCJEcnVnIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsImRlbGV0ZU1hbnkiLCJkcnVnTmFtZSIsImRlc2NyaXB0aW9uIiwiX2RydWdJZCIsImJlZm9yZUVhY2giLCJjcmVhdGUiLCJpZCIsIml0IiwiZHJ1ZyIsInRvIiwiZXF1YWwiLCJmaW5kQnlJZEFuZFJlbW92ZSIsIkVycm9yIiwiY2F0Y2giLCJlcnJvciIsIm1lc3NhZ2UiLCJleGlzdCIsImJlIiwiaW5zdGFuY2VvZiIsIk5vdEZvdW5kRXJyb3IiLCJ0aHJvdyIsIlR5cGVFcnJvciIsInVuZGVmaW5lZCIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6IjJ3T0FBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBRixDQUFQLDJCQUFnQ0MsT0FBaEMsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsTUFBRiwyQkFBYUwsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDQUNBLEtBQU0sQ0FBRU0sTUFBRiwyQkFBYUMsSUFBYixDQUFOLENBQ0EsS0FBTUMsQ0FBQUEsWUFBWSwwQkFBR1IsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBbEIsQ0FDQSxLQUFNLENBQUVTLFFBQUYsQ0FBWUMsTUFBTSxDQUFFLENBQUVDLElBQUYsQ0FBcEIsMkJBQWlDWCxPQUFPLENBQUMsbUJBQUQsQ0FBeEMsQ0FBTixDLHdCQUVBWSxRQUFRLENBQUMsY0FBRCxDQUFpQixJQUFNLGlEQUMzQkMs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X01PTkdPREJfVVJMIH0gfSA9IHByb2Nlc3NcbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJylcbmNvbnN0IHsgcmFuZG9tIH0gPSBNYXRoXG5jb25zdCByZXRyaWV2ZURydWcgPSByZXF1aXJlKCcuL3JldHJpZXZlLWRydWcnKVxuY29uc3QgeyBtb25nb29zZSwgbW9kZWxzOiB7IERydWcgfSB9ID0gcmVxdWlyZSgncGlsbC1vLWNsb2NrLWRhdGEnKVxuXG5kZXNjcmliZSgncmV0cmlldmVEcnVnJywgKCkgPT4ge1xuICAgIGJlZm9yZSgoKSA9PlxuICAgICAgICBtb25nb29zZS5jb25uZWN0KFRFU1RfTU9OR09EQl9VUkwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IERydWcuZGVsZXRlTWFueSgpKVxuICAgIClcblxuICAgIGxldCBkcnVnTmFtZSwgZGVzY3JpcHRpb24sIF9kcnVnSWRcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBkcnVnTmFtZSA9IGBkcnVnTmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgZGVzY3JpcHRpb24gPSBgZGVzY3JpcHRpb24tJHtyYW5kb20oKX1gXG4gICAgICAgIFxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiBkcnVnIGFscmVhZHkgZXhpc3RzJywgKCkgPT4ge1xuXG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT5cbiAgICAgICAgICAgIERydWcuY3JlYXRlKHsgZHJ1Z05hbWUsIGRlc2NyaXB0aW9ufSkgICAgICAgXG4gICAgICAgICAgICAudGhlbigoe2lkfSk9PiBfZHJ1Z0lkID0gaWQpXG4gICAgICAgIClcblxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gY29ycmVjdCBhbmQgdmFsaWQgYW5kIHJpZ2h0IGRhdGEnLCAoKSA9PlxuICAgICAgICAgICAgcmV0cmlldmVEcnVnKF9kcnVnSWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZHJ1ZyA9PiB7IFxuICAgICAgICAgICAgICAgICAgICBleHBlY3QoZHJ1Zy5kcnVnTmFtZSkudG8uZXF1YWwoZHJ1Z05hbWUpXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChkcnVnLmRlc2NyaXB0aW9uKS50by5lcXVhbChkZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gaW52YWxpZCBkYXRhJywgKCkgPT5cbiAgICAgICAgICAgIERydWcuZmluZEJ5SWRBbmRSZW1vdmUoX2RydWdJZClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHJldHJpZXZlRHJ1ZyhfZHJ1Z0lkKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHsgXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaG91bGQgbm90IHJlYWNoIHRoaXMgcG9pbnQnKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKGBkcnVnIHdpdGggaWQgJHtfZHJ1Z0lkfSBkb2VzIG5vdCBleGlzdGApXG4gICAgICAgICAgICB9KVxuICAgICAgICApXG5cbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIHRvIHJldHJpZXZlIGlmIHRoZSB1c2VyIGRvZXMgbm90IGV4aXN0JywgKCkgPT4ge1xuICAgICAgICAgICAgcmV0cmlldmVEcnVnKGAke19kcnVnSWR9LXdyb25nYClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHsgdGhyb3cgbmV3IEVycm9yICgnc2hvdWxkIG5vdCByZWFjaCB0aGlzIHBvaW50JykgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5leGlzdFxuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uYmUuaW5zdGFuY2VvZihOb3RGb3VuZEVycm9yKVxuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50by5lcXVhbChgZHJ1ZyB3aXRoIGlkICR7X2RydWdJZH0td3JvbmcgZG9lcyBub3QgZXhpc3RgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIG9uIGEgbm9uLXN0cmluZyBkcnVnTmFtZScsICgpID0+IHtcbiAgICAgICAgX2RydWdJZCA9IDkzMjg3NDMyODlcbiAgICAgICAgZXhwZWN0KCgpID0+IHJldHJpZXZlRHJ1ZyhfZHJ1Z0lkKSkudG8udGhyb3coVHlwZUVycm9yLCBgaWQgJHtfZHJ1Z0lkfSBpcyBub3QgYSBzdHJpbmdgKVxuICAgICAgICBfZHJ1Z0lkID0gZmFsc2VcbiAgICAgICAgZXhwZWN0KCgpID0+IHJldHJpZXZlRHJ1ZyhfZHJ1Z0lkKSkudG8udGhyb3coVHlwZUVycm9yLCBgaWQgJHtfZHJ1Z0lkfSBpcyBub3QgYSBzdHJpbmdgKVxuICAgICAgICBfZHJ1Z0lkID0gdW5kZWZpbmVkXG4gICAgICAgIGV4cGVjdCgoKSA9PiByZXRyaWV2ZURydWcoX2RydWdJZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGlkICR7X2RydWdJZH0gaXMgbm90IGEgc3RyaW5nYClcbiAgICAgICAgX2RydWdJZCA9IFtdXG4gICAgICAgIGV4cGVjdCgoKSA9PiByZXRyaWV2ZURydWcoX2RydWdJZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGlkICR7X2RydWdJZH0gaXMgbm90IGEgc3RyaW5nYClcbiAgICB9KVxuXG4gICAgYWZ0ZXIoKCkgPT4gRHJ1Zy5kZWxldGVNYW55KCkudGhlbigoKSA9PiBtb25nb29zZS5kaXNjb25uZWN0KCkpKVxufSkiXX0=