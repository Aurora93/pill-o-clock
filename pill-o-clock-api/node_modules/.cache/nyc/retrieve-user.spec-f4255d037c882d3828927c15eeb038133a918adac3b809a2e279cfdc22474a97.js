function cov_1v51yfe3yt(){var path="/Users/Au/bootcamp/collab/skylab-bootcamp-202001/staff/aurora-perez/pill-o-clock/pill-o-clock-api/logic/retrieve-user.spec.js";var hash="701f8b86bd52be90eef757306b61de3d81725dec";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/Au/bootcamp/collab/skylab-bootcamp-202001/staff/aurora-perez/pill-o-clock/pill-o-clock-api/logic/retrieve-user.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:38},end:{line:3,column:45}},"2":{start:{line:4,column:19},end:{line:4,column:34}},"3":{start:{line:5,column:19},end:{line:5,column:23}},"4":{start:{line:6,column:21},end:{line:6,column:47}},"5":{start:{line:7,column:39},end:{line:7,column:67}},"6":{start:{line:9,column:0},end:{line:76,column:2}},"7":{start:{line:10,column:4},end:{line:13,column:5}},"8":{start:{line:11,column:8},end:{line:12,column:42}},"9":{start:{line:12,column:24},end:{line:12,column:41}},"10":{start:{line:17,column:4},end:{line:26,column:6}},"11":{start:{line:18,column:8},end:{line:18,column:33}},"12":{start:{line:19,column:8},end:{line:19,column:39}},"13":{start:{line:20,column:8},end:{line:20,column:37}},"14":{start:{line:21,column:8},end:{line:21,column:22}},"15":{start:{line:22,column:8},end:{line:22,column:35}},"16":{start:{line:23,column:8},end:{line:23,column:39}},"17":{start:{line:24,column:8},end:{line:24,column:44}},"18":{start:{line:25,column:8},end:{line:25,column:41}},"19":{start:{line:28,column:4},end:{line:62,column:6}},"20":{start:{line:31,column:8},end:{line:34,column:9}},"21":{start:{line:32,column:12},end:{line:33,column:43}},"22":{start:{line:33,column:34},end:{line:33,column:42}},"23":{start:{line:36,column:8},end:{line:49,column:9}},"24":{start:{line:37,column:12},end:{line:48,column:18}},"25":{start:{line:39,column:20},end:{line:39,column:61}},"26":{start:{line:40,column:20},end:{line:40,column:52}},"27":{start:{line:41,column:20},end:{line:41,column:58}},"28":{start:{line:42,column:20},end:{line:42,column:56}},"29":{start:{line:43,column:20},end:{line:43,column:50}},"30":{start:{line:44,column:20},end:{line:44,column:54}},"31":{start:{line:45,column:20},end:{line:45,column:58}},"32":{start:{line:46,column:20},end:{line:46,column:54}},"33":{start:{line:47,column:20},end:{line:47,column:57}},"34":{start:{line:51,column:8},end:{line:61,column:10}},"35":{start:{line:52,column:12},end:{line:60,column:18}},"36":{start:{line:53,column:24},end:{line:53,column:41}},"37":{start:{line:54,column:28},end:{line:54,column:75}},"38":{start:{line:56,column:20},end:{line:56,column:44}},"39":{start:{line:58,column:20},end:{line:58,column:83}},"40":{start:{line:64,column:4},end:{line:73,column:6}},"41":{start:{line:65,column:8},end:{line:65,column:24}},"42":{start:{line:66,column:8},end:{line:66,column:88}},"43":{start:{line:66,column:21},end:{line:66,column:38}},"44":{start:{line:67,column:8},end:{line:67,column:19}},"45":{start:{line:68,column:8},end:{line:68,column:88}},"46":{start:{line:68,column:21},end:{line:68,column:38}},"47":{start:{line:69,column:8},end:{line:69,column:23}},"48":{start:{line:70,column:8},end:{line:70,column:88}},"49":{start:{line:70,column:21},end:{line:70,column:38}},"50":{start:{line:71,column:8},end:{line:71,column:16}},"51":{start:{line:72,column:8},end:{line:72,column:88}},"52":{start:{line:72,column:21},end:{line:72,column:38}},"53":{start:{line:75,column:4},end:{line:75,column:68}},"54":{start:{line:75,column:16},end:{line:75,column:67}},"55":{start:{line:75,column:45},end:{line:75,column:66}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:25},end:{line:9,column:26}},loc:{start:{line:9,column:31},end:{line:76,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:11,column:8},end:{line:12,column:42}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:18},end:{line:12,column:19}},loc:{start:{line:12,column:24},end:{line:12,column:41}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:15},end:{line:17,column:16}},loc:{start:{line:17,column:21},end:{line:26,column:5}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:28,column:41},end:{line:28,column:42}},loc:{start:{line:28,column:47},end:{line:62,column:5}},line:28},"5":{name:"(anonymous_5)",decl:{start:{line:31,column:19},end:{line:31,column:20}},loc:{start:{line:32,column:12},end:{line:33,column:43}},line:32},"6":{name:"(anonymous_6)",decl:{start:{line:33,column:22},end:{line:33,column:23}},loc:{start:{line:33,column:34},end:{line:33,column:42}},line:33},"7":{name:"(anonymous_7)",decl:{start:{line:36,column:65},end:{line:36,column:66}},loc:{start:{line:37,column:12},end:{line:48,column:18}},line:37},"8":{name:"(anonymous_8)",decl:{start:{line:38,column:22},end:{line:38,column:23}},loc:{start:{line:38,column:30},end:{line:48,column:17}},line:38},"9":{name:"(anonymous_9)",decl:{start:{line:51,column:53},end:{line:51,column:54}},loc:{start:{line:51,column:59},end:{line:61,column:9}},line:51},"10":{name:"(anonymous_10)",decl:{start:{line:53,column:18},end:{line:53,column:19}},loc:{start:{line:53,column:24},end:{line:53,column:41}},line:53},"11":{name:"(anonymous_11)",decl:{start:{line:54,column:22},end:{line:54,column:23}},loc:{start:{line:54,column:27},end:{line:54,column:76}},line:54},"12":{name:"(anonymous_12)",decl:{start:{line:55,column:23},end:{line:55,column:24}},loc:{start:{line:55,column:38},end:{line:60,column:17}},line:55},"13":{name:"(anonymous_13)",decl:{start:{line:64,column:41},end:{line:64,column:42}},loc:{start:{line:64,column:47},end:{line:73,column:5}},line:64},"14":{name:"(anonymous_14)",decl:{start:{line:66,column:15},end:{line:66,column:16}},loc:{start:{line:66,column:21},end:{line:66,column:38}},line:66},"15":{name:"(anonymous_15)",decl:{start:{line:68,column:15},end:{line:68,column:16}},loc:{start:{line:68,column:21},end:{line:68,column:38}},line:68},"16":{name:"(anonymous_16)",decl:{start:{line:70,column:15},end:{line:70,column:16}},loc:{start:{line:70,column:21},end:{line:70,column:38}},line:70},"17":{name:"(anonymous_17)",decl:{start:{line:72,column:15},end:{line:72,column:16}},loc:{start:{line:72,column:21},end:{line:72,column:38}},line:72},"18":{name:"(anonymous_18)",decl:{start:{line:75,column:10},end:{line:75,column:11}},loc:{start:{line:75,column:16},end:{line:75,column:67}},line:75},"19":{name:"(anonymous_19)",decl:{start:{line:75,column:39},end:{line:75,column:40}},loc:{start:{line:75,column:45},end:{line:75,column:66}},line:75}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"701f8b86bd52be90eef757306b61de3d81725dec"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1v51yfe3yt=function(){return actualCoverage;};return actualCoverage;}cov_1v51yfe3yt();cov_1v51yfe3yt().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL}}=(cov_1v51yfe3yt().s[1]++,process);const{expect}=(cov_1v51yfe3yt().s[2]++,require('chai'));const{random}=(cov_1v51yfe3yt().s[3]++,Math);const retrieveUser=(cov_1v51yfe3yt().s[4]++,require('./retrieve-user'));const{mongoose,models:{User}}=(cov_1v51yfe3yt().s[5]++,require('pill-o-clock-data'));cov_1v51yfe3yt().s[6]++;describe('retrieveUser',()=>{cov_1v51yfe3yt().f[0]++;cov_1v51yfe3yt().s[7]++;before(()=>{cov_1v51yfe3yt().f[1]++;cov_1v51yfe3yt().s[8]++;return mongoose.connect(TEST_MONGODB_URL,{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_1v51yfe3yt().f[2]++;cov_1v51yfe3yt().s[9]++;return User.deleteMany();});});let name,surname,gender,age,phone,profile,email,password;cov_1v51yfe3yt().s[10]++;beforeEach(()=>{cov_1v51yfe3yt().f[3]++;cov_1v51yfe3yt().s[11]++;name=`name-${random()}`;cov_1v51yfe3yt().s[12]++;surname=`surname-${random()}`;cov_1v51yfe3yt().s[13]++;gender=`gender-${random()}`;cov_1v51yfe3yt().s[14]++;age=random();cov_1v51yfe3yt().s[15]++;phone=`00000-${random()}`;cov_1v51yfe3yt().s[16]++;profile=`profile-${random()}`;cov_1v51yfe3yt().s[17]++;email=`email-${random()}@mail.com`;cov_1v51yfe3yt().s[18]++;password=`password-${random()}`;});cov_1v51yfe3yt().s[19]++;describe('when user already exists',()=>{cov_1v51yfe3yt().f[4]++;let _id;cov_1v51yfe3yt().s[20]++;beforeEach(()=>{cov_1v51yfe3yt().f[5]++;cov_1v51yfe3yt().s[21]++;return User.create({name,surname,gender,age,phone,profile,email,password}).then(({id})=>{cov_1v51yfe3yt().f[6]++;cov_1v51yfe3yt().s[22]++;return _id=id;});});cov_1v51yfe3yt().s[23]++;it('should succeed on correct and valid and right data',()=>{cov_1v51yfe3yt().f[7]++;cov_1v51yfe3yt().s[24]++;return retrieveUser(_id).then(user=>{cov_1v51yfe3yt().f[8]++;cov_1v51yfe3yt().s[25]++;expect(user.constructor).to.equal(Object);cov_1v51yfe3yt().s[26]++;expect(user.name).to.equal(name);cov_1v51yfe3yt().s[27]++;expect(user.surname).to.equal(surname);cov_1v51yfe3yt().s[28]++;expect(user.gender).to.equal(gender);cov_1v51yfe3yt().s[29]++;expect(user.age).to.equal(age);cov_1v51yfe3yt().s[30]++;expect(user.phone).to.equal(phone);cov_1v51yfe3yt().s[31]++;expect(user.profile).to.equal(profile);cov_1v51yfe3yt().s[32]++;expect(user.email).to.equal(email);cov_1v51yfe3yt().s[33]++;expect(user.password).to.be.undefined;});});cov_1v51yfe3yt().s[34]++;it('should fail if the user does not exist',()=>{cov_1v51yfe3yt().f[9]++;cov_1v51yfe3yt().s[35]++;User.deleteMany().then(()=>{cov_1v51yfe3yt().f[10]++;cov_1v51yfe3yt().s[36]++;return retrieveUser(_id);}).then(()=>{cov_1v51yfe3yt().f[11]++;cov_1v51yfe3yt().s[37]++;throw new Error('should not reach this point');}).catch(({message})=>{cov_1v51yfe3yt().f[12]++;cov_1v51yfe3yt().s[38]++;expect(message).to.exist;cov_1v51yfe3yt().s[39]++;expect(message).to.equal(`user with id ${_id}-wrong not found`);});});});cov_1v51yfe3yt().s[40]++;it('should fail on a non-string id',()=>{cov_1v51yfe3yt().f[13]++;cov_1v51yfe3yt().s[41]++;_id=9328743289;cov_1v51yfe3yt().s[42]++;expect(()=>{cov_1v51yfe3yt().f[14]++;cov_1v51yfe3yt().s[43]++;return retrieveUser(_id);}).to.throw(TypeError,`id ${_id} is not a string`);cov_1v51yfe3yt().s[44]++;_id=false;cov_1v51yfe3yt().s[45]++;expect(()=>{cov_1v51yfe3yt().f[15]++;cov_1v51yfe3yt().s[46]++;return retrieveUser(_id);}).to.throw(TypeError,`id ${_id} is not a string`);cov_1v51yfe3yt().s[47]++;_id=undefined;cov_1v51yfe3yt().s[48]++;expect(()=>{cov_1v51yfe3yt().f[16]++;cov_1v51yfe3yt().s[49]++;return retrieveUser(_id);}).to.throw(TypeError,`id ${_id} is not a string`);cov_1v51yfe3yt().s[50]++;_id=[];cov_1v51yfe3yt().s[51]++;expect(()=>{cov_1v51yfe3yt().f[17]++;cov_1v51yfe3yt().s[52]++;return retrieveUser(_id);}).to.throw(TypeError,`id ${_id} is not a string`);});cov_1v51yfe3yt().s[53]++;after(()=>{cov_1v51yfe3yt().f[18]++;cov_1v51yfe3yt().s[54]++;return User.deleteMany().then(()=>{cov_1v51yfe3yt().f[19]++;cov_1v51yfe3yt().s[55]++;return mongoose.disconnect();});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLXVzZXIuc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsInByb2Nlc3MiLCJleHBlY3QiLCJyYW5kb20iLCJNYXRoIiwicmV0cmlldmVVc2VyIiwibW9uZ29vc2UiLCJtb2RlbHMiLCJVc2VyIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsImRlbGV0ZU1hbnkiLCJuYW1lIiwic3VybmFtZSIsImdlbmRlciIsImFnZSIsInBob25lIiwicHJvZmlsZSIsImVtYWlsIiwicGFzc3dvcmQiLCJiZWZvcmVFYWNoIiwiX2lkIiwiY3JlYXRlIiwiaWQiLCJpdCIsInVzZXIiLCJjb25zdHJ1Y3RvciIsInRvIiwiZXF1YWwiLCJPYmplY3QiLCJiZSIsInVuZGVmaW5lZCIsIkVycm9yIiwiY2F0Y2giLCJtZXNzYWdlIiwiZXhpc3QiLCJ0aHJvdyIsIlR5cGVFcnJvciIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6Imd6T0FBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBRixDQUFQLDJCQUFnQ0MsT0FBaEMsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsTUFBRiwyQkFBYUwsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDQUNBLEtBQU0sQ0FBRU0sTUFBRiwyQkFBYUMsSUFBYixDQUFOLENBQ0EsS0FBTUMsQ0FBQUEsWUFBWSwwQkFBR1IsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBbEIsQ0FDQSxLQUFNLENBQUVTLFFBQUYsQ0FBWUMsTUFBTSxDQUFFLENBQUVDLElBQUYsQ0FBcEIsMkJBQWlDWCxPQUFPLENBQUMsbUJBQUQsQ0FBeEMsQ0FBTixDLHdCQUVBWSxRQUFRLENBQUMsY0FBRCxDQUFpQixJQUFNLGlE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QUFoQyxDQUFtQ1MsS0FBbkMsQ0FBeUNDLFNBQXpDLENBQXFELE1BQUtoQixHQUFJLGtCQUE5RCxFQUp1Qyx5QkFLdkNBLEdBQUcsQ0FBR1UsU0FBTixDQUx1Qyx5QkFNdkNqQyxNQUFNLENBQUMsSUFBTSx5REFBQUcsQ0FBQUEsWUFBWSxDQUFDb0IsR0FBRCxDQUFaLENBQWlCLENBQXhCLENBQU4sQ0FBZ0NNLEVBQWhDLENBQW1DUyxLQUFuQyxDQUF5Q0MsU0FBekMsQ0FBcUQsTUFBS2hCLEdBQUksa0JBQTlELEVBTnVDLHlCQU92Q0EsR0FBRyxDQUFHLEVBQU4sQ0FQdUMseUJBUXZDdkIsTUFBTSxDQUFDLElBQU0seURBQUFHLENBQUFBLFlBQVksQ0FBQ29CLEdBQUQsQ0FBWixDQUFpQixDQUF4QixDQUFOLENBQWdDTSxFQUFoQyxDQUFtQ1MsS0FBbkMsQ0FBeUNDLFNBQXpDLENBQXFELE1BQUtoQixHQUFJLGtCQUE5RCxFQUNILENBVEMsQ0FBRixDQXZEMkIseUJBa0UzQmlCLEtBQUssQ0FBQyxJQUFNLHlEQUFBbEMsQ0FBQUEsSUFBSSxDQUFDTyxVQUFMLEdBQWtCRCxJQUFsQixDQUF1QixJQUFNLHlEQUFBUixDQUFBQSxRQUFRLENBQUNxQyxVQUFULEdBQXFCLENBQWxELEVBQW1ELENBQTFELENBQUwsQ0FDSCxDQW5FTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTCB9IH0gPSBwcm9jZXNzXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxuY29uc3QgcmV0cmlldmVVc2VyID0gcmVxdWlyZSgnLi9yZXRyaWV2ZS11c2VyJylcbmNvbnN0IHsgbW9uZ29vc2UsIG1vZGVsczogeyBVc2VyIH0gfSA9IHJlcXVpcmUoJ3BpbGwtby1jbG9jay1kYXRhJylcblxuZGVzY3JpYmUoJ3JldHJpZXZlVXNlcicsICgpID0+IHtcbiAgICBiZWZvcmUoKCkgPT5cbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdChURVNUX01PTkdPREJfVVJMLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiBVc2VyLmRlbGV0ZU1hbnkoKSlcbiAgICApXG5cbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZ2VuZGVyLCBhZ2UsIHBob25lLCBwcm9maWxlLCBlbWFpbCwgcGFzc3dvcmRcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBuYW1lID0gYG5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgZ2VuZGVyID0gYGdlbmRlci0ke3JhbmRvbSgpfWBcbiAgICAgICAgYWdlID0gcmFuZG9tKClcbiAgICAgICAgcGhvbmUgPSBgMDAwMDAtJHtyYW5kb20oKX1gXG4gICAgICAgIHByb2ZpbGUgPSBgcHJvZmlsZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgZW1haWwgPSBgZW1haWwtJHtyYW5kb20oKX1AbWFpbC5jb21gXG4gICAgICAgIHBhc3N3b3JkID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB1c2VyIGFscmVhZHkgZXhpc3RzJywgKCkgPT4ge1xuICAgICAgICBsZXQgX2lkXG5cbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PlxuICAgICAgICAgICAgVXNlci5jcmVhdGUoeyBuYW1lLCBzdXJuYW1lLCBnZW5kZXIsIGFnZSwgcGhvbmUsIHByb2ZpbGUsIGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCh7IGlkIH0pID0+IF9pZCA9IGlkKVxuICAgICAgICApXG5cbiAgICAgICAgaXQoJ3Nob3VsZCBzdWNjZWVkIG9uIGNvcnJlY3QgYW5kIHZhbGlkIGFuZCByaWdodCBkYXRhJywgKCkgPT5cbiAgICAgICAgICAgIHJldHJpZXZlVXNlcihfaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4odXNlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLmNvbnN0cnVjdG9yKS50by5lcXVhbChPYmplY3QpXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLm5hbWUpLnRvLmVxdWFsKG5hbWUpXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLnN1cm5hbWUpLnRvLmVxdWFsKHN1cm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLmdlbmRlcikudG8uZXF1YWwoZ2VuZGVyKVxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5hZ2UpLnRvLmVxdWFsKGFnZSlcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHVzZXIucGhvbmUpLnRvLmVxdWFsKHBob25lKVxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5wcm9maWxlKS50by5lcXVhbChwcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5lbWFpbCkudG8uZXF1YWwoZW1haWwpXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLnBhc3N3b3JkKS50by5iZS51bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApXG5cbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIGlmIHRoZSB1c2VyIGRvZXMgbm90IGV4aXN0JywgKCkgPT4ge1xuICAgICAgICAgICAgVXNlci5kZWxldGVNYW55KClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHJldHJpZXZlVXNlcihfaWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpPT4ge3Rocm93IG5ldyBFcnJvciAoJ3Nob3VsZCBub3QgcmVhY2ggdGhpcyBwb2ludCcpfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKHttZXNzYWdlIH0pPT4ge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobWVzc2FnZSkudG8uZXhpc3RcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChtZXNzYWdlKS50by5lcXVhbChgdXNlciB3aXRoIGlkICR7X2lkfS13cm9uZyBub3QgZm91bmRgKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgb24gYSBub24tc3RyaW5nIGlkJywgKCkgPT4ge1xuICAgICAgICBfaWQgPSA5MzI4NzQzMjg5XG4gICAgICAgIGV4cGVjdCgoKSA9PiByZXRyaWV2ZVVzZXIoX2lkKSkudG8udGhyb3coVHlwZUVycm9yLCBgaWQgJHtfaWR9IGlzIG5vdCBhIHN0cmluZ2ApXG4gICAgICAgIF9pZCA9IGZhbHNlXG4gICAgICAgIGV4cGVjdCgoKSA9PiByZXRyaWV2ZVVzZXIoX2lkKSkudG8udGhyb3coVHlwZUVycm9yLCBgaWQgJHtfaWR9IGlzIG5vdCBhIHN0cmluZ2ApXG4gICAgICAgIF9pZCA9IHVuZGVmaW5lZFxuICAgICAgICBleHBlY3QoKCkgPT4gcmV0cmlldmVVc2VyKF9pZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGlkICR7X2lkfSBpcyBub3QgYSBzdHJpbmdgKVxuICAgICAgICBfaWQgPSBbXVxuICAgICAgICBleHBlY3QoKCkgPT4gcmV0cmlldmVVc2VyKF9pZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGlkICR7X2lkfSBpcyBub3QgYSBzdHJpbmdgKVxuICAgIH0pXG5cbiAgICBhZnRlcigoKSA9PiBVc2VyLmRlbGV0ZU1hbnkoKS50aGVuKCgpID0+IG1vbmdvb3NlLmRpc2Nvbm5lY3QoKSkpXG59KSJdfQ==